# Dployr Base Configuration
# Copy this to config.toml and customize for your deployment

[server]
port = 7878
host = "0.0.0.0"
base_url = "https://base.dployr.io"
app_url = "https://app.dployr.io"

[database]

# PostgreSQL connection string
url = "postgresql://user:password@localhost:5432/postgres"

# Auto-run migrations on startup
auto_migrate = true

[kv]
type = "redis"
url = "redis://localhost:6379"
# Optional: Upstash REST API (serverless-friendly)
# rest_url = "https://..."
# rest_token = "..."

[storage]
type = "filesystem"
# For filesystem
path = "./data/storage"
# For S3-compatible
# bucket = "dployr-logs"
# region = "us-east-1"
# access_key = ""
# secret_key = ""

[auth]
# OAuth providers
google_client_id = ""
google_client_secret = ""
github_client_id = ""
github_client_secret = ""

[email]
# Email provider: "zepto" 
provider = "zepto"
zepto_api_key = ""

[security]
# Session TTL (seconds)
session_ttl = 86400
# JWT signing algorithm
jwt_algorithm = "RS256"
# Rate limiting (requests per minute)
global_rate_limit = 100
strict_rate_limit = 10

[cors]
allowed_origins = "*.dployr.io"
